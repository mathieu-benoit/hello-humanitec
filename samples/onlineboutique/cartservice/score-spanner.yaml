apiVersion: score.dev/v1b1
metadata:
  name: cartservice
containers:
  cartservice:
    image: gcr.io/google-samples/microservices-demo/cartservice:v0.8.0
    variables:
      SPANNER_PROJECT: "${resources.cart.project}"
      SPANNER_INSTANCE: "${resources.cart.instance}"
      SPANNER_DATABASE: "${resources.cart.database}"
    resources:
      limits:
        memory: "128Mi"
        cpu: "300m"
      requests:
        memory: "64Mi"
        cpu: "200m"
resources:
  cart:
    type: spanner
service:
  ports:
    grpc:
      port: 7070
      targetPort: 7070
