externals: {}
profile: humanitec/default-module
spec:
  containers:
    checkoutservice:
      files: {}
      image: gcr.io/google-samples/microservices-demo/checkoutservice:v0.6.0
      liveness_probe:
        command:
          - /bin/grpc_health_probe
          - '-addr=:5050'
        type: command
      readiness_probe:
        command:
          - /bin/grpc_health_probe
          - '-addr=:5050'
        type: command
      resources:
        limits:
          cpu: '0.250'
          memory: 256Mi
        requests:
          cpu: '0.025'
          memory: 64Mi
      variables:
        CART_SERVICE_ADDR: ${modules.cartservice.service.name}:7070
        CURRENCY_SERVICE_ADDR: ${modules.currencyservice.service.name}:7000
        EMAIL_SERVICE_ADDR: ${modules.emailservice.service.name}:8080
        PAYMENT_SERVICE_ADDR: ${modules.paymentservice.service.name}:50051
        PORT: '5050'
        PRODUCT_CATALOG_SERVICE_ADDR: ${modules.productcatalogservice.service.name}:3550
        SHIPPING_SERVICE_ADDR: ${modules.shippingservice.service.name}:50051
      volume_mounts: {}
  service:
    ports:
      grpc:
        container_port: 5050
        protocol: TCP
        service_port: 5050
